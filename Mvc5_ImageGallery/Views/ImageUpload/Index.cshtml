
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

@using(Html.BeginForm("Index", "ImageUpload", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div>
        <img id="user_img" height="100" width="90" style="border:solid" />
    </div>

    <div>
        <input type="file" title="search image" id="file" name="file" onchange="show(this)" />
    </div>

    <div>
        UserId
    </div>
    <div>
        <input type="text" id="txt_id" name="id" />
    </div>
    <div>
        UserName
    </div>
    <div>
        <input type="text" id="txt_name" name="Name" />
    </div>
    <input type="submit" title="save" />
}

@section Scripts{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
    <script>
        function show(input) {
            console.log(input);
            if (input.files && input.files[0]) {
                var filedr = new FileReader();
                filedr.onload = function (e) {
                    $('#user_img').attr('src', e.target.result);
                }
                filedr.readAsDataURL(input.files[0]);
            }
        }
    </script>    
}